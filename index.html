<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Monte Carlo Simulator | Camac Consulting</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
/* (your full CSS unchanged) */
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #ffffff; padding: 10px; color: #333; margin: 0; }
.container { max-width: 800px; margin: auto; padding-bottom: 120px; }
.controls { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; background: #f4f7f9; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
label { display: block; font-weight: bold; font-size: 11px; color: #001935; text-transform: uppercase; }
input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; margin-top: 4px; font-size: 14px; }
.btn-group { grid-column: span 3; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 5px; }
button { padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 14px; transition: opacity 0.2s; }
#runBtn { background: #001935; color: white; }
#resetBtn { background: #ddd; color: #333; }
#downloadBtn { background: #41797e; color: white; display: none; }
button:disabled { background: #666 !important; cursor: not-allowed; }
.stats-bar { display: grid; grid-template-columns: 1fr; gap: 10px; margin-bottom: 15px; }
.stat-card { background: #41797e; color: white; padding: 15px; border-radius: 8px; text-align: center; transition: background 0.3s ease; }
.stat-card h2 { margin: 0; font-size: 28px; }
.stat-card p { margin: 0; font-size: 12px; text-transform: uppercase; opacity: 0.9; letter-spacing: 1px; }
#resultSummary { background: #fdfdfd; padding: 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; line-height: 1.6; color: #444; display: none; margin-top: 5px; }
.chart-container { height: 350px; margin-bottom: 20px; position: relative; background: #fff; border: 1px solid #eee; border-radius: 8px; }
#loader { display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; }
.spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #41797e; border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.crash-section { grid-column: span 3; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding-top: 10px; border-top: 1px solid #ddd; margin-top: 5px; }
.helper-text { grid-column: span 2; font-size: 10px; color: #666; font-style: italic; margin-bottom: 5px; }
.cap-disclaimer { font-size: 9px; color: #666; font-style: italic; margin-top: 4px; line-height: 1.2; }
table { width: 100%; border-collapse: collapse; font-size: 11px; margin-top: 20px; }
th { background: #001935; color: white; padding: 10px; text-align: center; }
td { border: 1px solid #eee; padding: 10px; text-align: center; }
.pdf-disclaimer { font-size: 10px; color: #888; margin-top: 25px; line-height: 1.5; border-top: 1px solid #eee; padding-top: 15px; }
.footer-nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #fff; padding: 15px 0; border-top: 1px solid #ddd; text-align: center; z-index: 1000; }
.footer-nav a { color: #ffffff; background-color: #41797e; font-weight: bold; text-decoration: none; font-size: 14px; display: inline-block; padding: 10px 25px; border-radius: 4px; }
</style>
</head>

<body>

<div class="container" id="reportContent">

<div class="stats-bar">
<div class="stat-card" id="mainStatCard">
<p>Probability of Hitting Goal</p>
<h2 id="successRate">--%</h2>
</div>
<div id="resultSummary"></div>
</div>

<div class="controls" id="inputControls">

<div>
<label>Principal ($)</label>
<input type="number" id="p" placeholder="0">
<div class="cap-disclaimer">Initial investment amount.</div>
</div>

<div>
<label>Annual Contrib ($)</label>
<input type="number" id="c" placeholder="0">
<div class="cap-disclaimer">Amount added each year.</div>
</div>

<div>
<label>Savings Goal ($)</label>
